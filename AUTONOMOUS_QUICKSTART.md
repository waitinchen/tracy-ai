# 🧠 小軟自主語氣判斷系統 - 快速開始

## ✨ 核心功能

讓「小軟」能夠：
- ✅ **自主判斷**：自己決定何時使用語氣標籤
- ✅ **自由發揮**：根據上下文選擇表達方式
- ✅ **智能學習**：從對話歷史學習
- ✅ **自然表達**：有隨機性，不會機械化

---

## 🚀 立即使用

### Web 界面（已啟用）

訪問 http://localhost:8001，系統已自動啟用自主模式！

**當前設定：**
- `autonomy_mode: true` - 啟用自主模式
- `autonomy_level: 0.7` - 自主程度 70%

### Python 使用

```python
from modules.autonomous_emotion import autonomous_emotion_route

# 基本使用
result = autonomous_emotion_route(
    text="你好，我是黃蓉！",
    autonomy_level=0.7,  # 自主程度（0.0-1.0）
    use_llm=True         # 是否使用 LLM 輔助
)

print(result)
# 可能輸出：
# "[playful] 你好，我是黃蓉！"
# 或
# "你好，我是黃蓉！"（不使用語氣）
```

---

## 🎯 自主判斷邏輯

### 何時使用語氣？

系統會根據以下因素判斷：

1. **文字特徵**
   - 有情緒關鍵字 → 使用語氣
   - 疑問句（？）→ 提高概率
   - 感嘆句（！）→ 提高概率
   - 文字太短 → 不使用

2. **對話上下文**
   - 最近用太多語氣 → 降低概率
   - 根據對話歷史調整

3. **自主程度**
   - `autonomy_level` 越高，越常使用語氣
   - 0.7 = 平衡（推薦）

4. **隨機性**
   - 加入隨機因素，更自然

---

## 📊 自主程度設定

| 數值 | 行為 |
|------|------|
| 0.0 | 極保守，幾乎不用語氣 |
| 0.3 | 保守，明顯需要時才用 |
| 0.5 | 平衡 |
| **0.7** | **自主（推薦）** |
| 0.9 | 非常自主，經常使用 |
| 1.0 | 極度自主，總是使用 |

---

## 💡 範例

### 範例 1：不使用語氣
```
輸入：今天天氣不錯
判斷：沒有強烈情緒
結果：今天天氣不錯（不使用語氣）
```

### 範例 2：使用語氣
```
輸入：你知道嗎？我真的好感動。
判斷：有疑問句和情緒關鍵字
結果：[crying][softly] 你知道嗎？我真的好感動。
```

### 範例 3：根據上下文
```
對話1：你好！ → [excited] 你好！
對話2：今天天氣不錯 → （不使用語氣）
對話3：你知道嗎？ → [curious] 你知道嗎？
```

---

## 🔧 調整自主程度

### Web 界面

修改 `web_static/index.html` 中的：
```javascript
autonomy_level: 0.7  // 調整這個數值（0.0-1.0）
```

### API 請求

```json
{
  "text": "你好",
  "autonomy_mode": true,
  "autonomy_level": 0.8  // 調整這個數值
}
```

---

## 🎉 特色

1. **不是每次都使用語氣** - 更自然
2. **根據上下文調整** - 更智能
3. **有隨機性** - 不會機械化
4. **可調節** - 通過參數控制
5. **學習能力** - 從對話中學習

---

**小軟現在更自主、更自然了！** 🎤✨


